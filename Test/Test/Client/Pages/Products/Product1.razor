@page "/products/{id:int}"
@inject HttpClient _client
@inject NavigationManager _navManager
@attribute [Authorize]

<h3>Product 1</h3>


<div class="card">

    <img src="/images/products/panadol.png" class="card-img-top" />

    <div class="card-body">

        <h5 class="card-title">Panadol</h5>

        <p class="card-text">This is a panadol, yes this is a medicine. Totally safe, used by doctor all over the world. trust us :)</p>
        <p class="price">$6.70</p>

        <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
            <input type="hidden" name="cmd" value="_s-xclick">
            <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----"><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_buynowCC_LG.gif" border="0" name="submit" alt="PayPal – The safer, easier way to pay online!">
            <img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1">
        </form>
    </div>
</div>


<ProductFormComponentCustomer product="product" Disabled="true" />

<style>

    .card {
        max-width: 500px;
        margin: 0 auto;
        text-align: center;
    }

    .card-img-top {
        width: 100%;
        height: 300px;
        object-fit: cover;
    }

    .card-body {
        padding: 1rem;
    }

    .card-title {
        font-weight: bold;
        font-size: 1.5rem;
    }

    .card-text {
        font-size: 1.25rem;
        line-height: 1.5;
    }

    .price {
        font-size: 1.5rem;
        font-weight: bold;
        color: green;
        margin-top: 1rem;
        margin-bottom: 1rem;
    }

    .btn {
        padding: 0.75rem 1.5rem;
        font-size: 1.25rem;
    }
</style>

@code {
    [Parameter] public int id { get; set; }
    Product product = new Product();
    protected async override Task OnParametersSetAsync()
    {
        product = await _client.GetFromJsonAsync<Product>($"{Endpoint.ProductsEndpoint}/{id}");
    }
}